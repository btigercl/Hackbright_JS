<!DOCTYPE html>
<html>
<head>
  <title>Javascript Learning</title>
</head>
<body>
  <h1>Javascript Learning</h1>
  <script>
  // FYI: A fibonnaci sequence begins with an array [1,1], adds the last two numbers in the array together and then adds that new number to the end of the array - so now we have [1,1,2]. The next iteration through the sequence will yield be: [1,1,2,3], then [1,1,2,3,5] and so on.

    function fibonacciSet(max) {
        if (max > 1) {
            var fibList = [1];
            var currentFib = 1;
            while (currentFib < max) {
                fibList.push(currentFib);
                var lenFib = fibList.length;
                currentFib = fibList[lenFib-1] + fibList[lenFib-2];
            }
            return fibList;
        }
        else {
            return [1, 1];
            }
        }

    function isEven(n) {
        return (n%2 === 0); 
    }

    function filter(aFunction, aList) {
        var newList = [];
        for (var i = 0; i < aList.length; i++){
            var condition = aFunction(aList[i]);
            if (condition === true) {
                newList.push(aList[i]);
            }
        }
        return newList;
    }

    function sum(finalList) {           //create function to get the sum of 
        var finalValue = 0;
        for (var n = 0; n < finalList.length; n++){
            finalValue = finalValue + finalList[n];
        }
        return finalValue;               //the final fibonacciSet list 
    };

    console.log(sum(filter(isEven, fibonacciSet(4000000))));

    // run the fibonacciSet function (which returns a list of all the fibonacci numbers), then filter by all even numbers (now we have an array of all even fibonacci numbers), then sum all the numbers in the array

  </script>
</body>
</html>